{"remainingRequest":"C:\\Users\\huawe\\Desktop\\Safety-Application-CS542\\dashboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\huawe\\Desktop\\Safety-Application-CS542\\dashboard\\src\\components\\graphs\\cloud.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\huawe\\Desktop\\Safety-Application-CS542\\dashboard\\src\\components\\graphs\\cloud.vue","mtime":1603569183891},{"path":"C:\\Users\\huawe\\Desktop\\Safety-Application-CS542\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\huawe\\Desktop\\Safety-Application-CS542\\dashboard\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\huawe\\Desktop\\Safety-Application-CS542\\dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\huawe\\Desktop\\Safety-Application-CS542\\dashboard\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBkMyBmcm9tICJkMyI7DQppbXBvcnQgKiBhcyBjbG91ZCBmcm9tICJkMy1jbG91ZCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxheW91dDoge30sDQogICAgICBjaGFydDoge30sDQogICAgICBmaWxsOiBudWxsLA0KICAgIH07DQogIH0sDQogIHByb3BzOiB7DQogICAgZGF0YTogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICAgIGZvbnRTaXplTWFwcGVyOiB7DQogICAgICB0eXBlOiBGdW5jdGlvbiwNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogICAgb25Xb3JkQ2xpY2s6IHsNCiAgICAgIHR5cGU6IEZ1bmN0aW9uLA0KICAgICAgZGVmYXVsdDogKHdvcmQpID0+IHsNCiAgICAgICAgd2luZG93LmFsZXJ0KGBZb3UgY2xpY2tlZCAke3dvcmQudGV4dH1gKTsNCiAgICAgIH0sDQogICAgfSwNCiAgICByb3RhdGU6IHsNCiAgICAgIHR5cGU6IFtGdW5jdGlvbiwgU3RyaW5nLCBOdW1iZXJdLA0KICAgICAgZGVmYXVsdDogMCwNCiAgICB9LA0KICAgIGZvbnQ6IHsNCiAgICAgIHR5cGU6IFtTdHJpbmcsIEZ1bmN0aW9uXSwNCiAgICAgIGRlZmF1bHQ6ICJTZXJpZiIsDQogICAgfSwNCiAgICB3aWR0aDogew0KICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwNCiAgICAgIGRlZmF1bHQ6IDk2MCwNCiAgICB9LA0KICAgIGhlaWdodDogew0KICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwNCiAgICAgIGRlZmF1bHQ6IDUwMCwNCiAgICB9LA0KICAgIHBhZGRpbmc6IHsNCiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sDQogICAgICBkZWZhdWx0OiAwLA0KICAgIH0sDQogICAgc3BpcmFsOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAiYXJjaGltZWRlYW4iLA0KICAgIH0sDQogICAgY29sb3Jpbmc6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICJyYW5kb20iLA0KICAgIH0sDQogICAgY29sb3JzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuY3JlYXRlQ2FudmFzKCk7DQogIH0sDQogIHdhdGNoOiB7DQogICAgZGF0YSgpIHsNCiAgICAgIHRoaXMuY3JlYXRlQ2FudmFzKCk7DQogICAgfSwNCiAgICByb3RhdGUoKSB7DQogICAgICB0aGlzLmNyZWF0ZUNhbnZhcygpOw0KICAgIH0sDQogICAgZm9udCgpIHsNCiAgICAgIHRoaXMuY3JlYXRlQ2FudmFzKCk7DQogICAgfSwNCiAgICBwYWRkaW5nKCkgew0KICAgICAgdGhpcy5jcmVhdGVDYW52YXMoKTsNCiAgICB9LA0KICAgIHNwaXJhbCgpIHsNCiAgICAgIHRoaXMuY3JlYXRlQ2FudmFzKCk7DQogICAgfSwNCiAgICBjb2xvcnMoKSB7DQogICAgICB0aGlzLmNyZWF0ZUNhbnZhcygpOw0KICAgIH0sDQogICAgY29sb3JpbmcoKSB7DQogICAgICB0aGlzLmNyZWF0ZUNhbnZhcygpOw0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjcmVhdGVDYW52YXM6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGNvbnN0IHdvcmRDb3VudHMgPSB0aGlzLmRhdGEubWFwKCh0ZXh0KSA9PiAoeyAuLi50ZXh0IH0pKTsNCiAgICAgIGQzLnNlbGVjdCh0aGlzLiRlbCkuc2VsZWN0QWxsKCIqIikucmVtb3ZlKCk7DQogICAgICBjb25zdCBsYXlvdXQgPSBjbG91ZCgpDQogICAgICAgIC5zaXplKFt0aGlzLndpZHRoLCB0aGlzLmhlaWdodF0pDQogICAgICAgIC53b3Jkcyh3b3JkQ291bnRzKQ0KICAgICAgICAucGFkZGluZyh0aGlzLnBhZGRpbmcpDQogICAgICAgIC5zcGlyYWwodGhpcy5zcGlyYWwpDQogICAgICAgIC5yb3RhdGUodGhpcy5yb3RhdGUpDQogICAgICAgIC5mb250KHRoaXMuZm9udCkNCiAgICAgICAgLmZvbnRTaXplKHRoaXMuZm9udFNpemVNYXBwZXIpDQogICAgICAgIC5vbigiZW5kIiwgdGhpcy5lbmQpOw0KDQogICAgICBpZiAodGhpcy5jb2xvcnMpIHRoaXMuZmlsbCA9IGQzLnNjYWxlT3JkaW5hbCgpLnJhbmdlKHRoaXMuY29sb3JzKTsNCiAgICAgIGVsc2UgdGhpcy5maWxsID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MTApOw0KICAgICAgbGF5b3V0LnN0YXJ0KCk7DQogICAgfSwNCiAgICBlbmQ6IGZ1bmN0aW9uICh3b3Jkcykgew0KICAgICAgbGV0IF9maWxsOw0KICAgICAgc3dpdGNoICh0aGlzLmNvbG9yaW5nKSB7DQogICAgICAgIGNhc2UgInJhbmRvbSI6DQogICAgICAgICAgX2ZpbGwgPSAoZCwgaSkgPT4gdGhpcy5maWxsKGkpOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICJzaXplIjoNCiAgICAgICAgICBfZmlsbCA9IChkKSA9PiB0aGlzLmZpbGwoZC5zaXplKTsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICBfZmlsbCA9IChkLCBpKSA9PiB0aGlzLmZpbGwoaSk7DQogICAgICB9DQogICAgICBkMy5zZWxlY3QodGhpcy4kZWwpDQogICAgICAgIC5hcHBlbmQoInN2ZyIpDQogICAgICAgIC5hdHRyKCJ3aWR0aCIsIHRoaXMud2lkdGgpDQogICAgICAgIC5hdHRyKCJoZWlnaHQiLCB0aGlzLmhlaWdodCkNCiAgICAgICAgLmFwcGVuZCgiZyIpDQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKCR7dGhpcy53aWR0aCAvIDJ9LCR7dGhpcy5oZWlnaHQgLyAyfSlgKQ0KICAgICAgICAuc2VsZWN0QWxsKCJ0ZXh0IikNCiAgICAgICAgLmRhdGEod29yZHMpDQogICAgICAgIC5lbnRlcigpDQogICAgICAgIC5hcHBlbmQoInRleHQiKQ0KICAgICAgICAuc3R5bGUoImZvbnQtZmFtaWx5IiwgKGQpID0+IGQuZm9udCkNCiAgICAgICAgLnN0eWxlKCJmb250LXNpemUiLCAoZCkgPT4gew0KICAgICAgICAgIHJldHVybiBgJHtkLnNpemV9cHhgOw0KICAgICAgICB9KQ0KICAgICAgICAuc3R5bGUoImZpbGwiLCBfZmlsbCkNCiAgICAgICAgLmF0dHIoInRleHQtYW5jaG9yIiwgIm1pZGRsZSIpDQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAoZCkgPT4gew0KICAgICAgICAgIHJldHVybiBgdHJhbnNsYXRlKCR7W2QueCwgZC55XX0pcm90YXRlKCR7ZC5yb3RhdGV9KWA7DQogICAgICAgIH0pDQogICAgICAgIC50ZXh0KChkKSA9PiBkLnRleHQpDQogICAgICAgIC8vLm9uKCJjbGljayIsIChkKSA9PiB0aGlzLm9uV29yZENsaWNrKGQpKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["cloud.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cloud.vue","sourceRoot":"src/components/graphs","sourcesContent":["<template>\r\n  <div class=\"wordCloud\" ref=\"wordCloud\"></div>\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from \"d3\";\r\nimport * as cloud from \"d3-cloud\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      layout: {},\r\n      chart: {},\r\n      fill: null,\r\n    };\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    fontSizeMapper: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    onWordClick: {\r\n      type: Function,\r\n      default: (word) => {\r\n        window.alert(`You clicked ${word.text}`);\r\n      },\r\n    },\r\n    rotate: {\r\n      type: [Function, String, Number],\r\n      default: 0,\r\n    },\r\n    font: {\r\n      type: [String, Function],\r\n      default: \"Serif\",\r\n    },\r\n    width: {\r\n      type: [Number, String],\r\n      default: 960,\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      default: 500,\r\n    },\r\n    padding: {\r\n      type: [Number, String],\r\n      default: 0,\r\n    },\r\n    spiral: {\r\n      type: String,\r\n      default: \"archimedean\",\r\n    },\r\n    coloring: {\r\n      type: String,\r\n      default: \"random\",\r\n    },\r\n    colors: {\r\n      type: Array,\r\n    },\r\n  },\r\n  mounted() {\r\n    this.createCanvas();\r\n  },\r\n  watch: {\r\n    data() {\r\n      this.createCanvas();\r\n    },\r\n    rotate() {\r\n      this.createCanvas();\r\n    },\r\n    font() {\r\n      this.createCanvas();\r\n    },\r\n    padding() {\r\n      this.createCanvas();\r\n    },\r\n    spiral() {\r\n      this.createCanvas();\r\n    },\r\n    colors() {\r\n      this.createCanvas();\r\n    },\r\n    coloring() {\r\n      this.createCanvas();\r\n    },\r\n  },\r\n  methods: {\r\n    createCanvas: function () {\r\n      const wordCounts = this.data.map((text) => ({ ...text }));\r\n      d3.select(this.$el).selectAll(\"*\").remove();\r\n      const layout = cloud()\r\n        .size([this.width, this.height])\r\n        .words(wordCounts)\r\n        .padding(this.padding)\r\n        .spiral(this.spiral)\r\n        .rotate(this.rotate)\r\n        .font(this.font)\r\n        .fontSize(this.fontSizeMapper)\r\n        .on(\"end\", this.end);\r\n\r\n      if (this.colors) this.fill = d3.scaleOrdinal().range(this.colors);\r\n      else this.fill = d3.scaleOrdinal(d3.schemeCategory10);\r\n      layout.start();\r\n    },\r\n    end: function (words) {\r\n      let _fill;\r\n      switch (this.coloring) {\r\n        case \"random\":\r\n          _fill = (d, i) => this.fill(i);\r\n          break;\r\n        case \"size\":\r\n          _fill = (d) => this.fill(d.size);\r\n          break;\r\n        default:\r\n          _fill = (d, i) => this.fill(i);\r\n      }\r\n      d3.select(this.$el)\r\n        .append(\"svg\")\r\n        .attr(\"width\", this.width)\r\n        .attr(\"height\", this.height)\r\n        .append(\"g\")\r\n        .attr(\"transform\", `translate(${this.width / 2},${this.height / 2})`)\r\n        .selectAll(\"text\")\r\n        .data(words)\r\n        .enter()\r\n        .append(\"text\")\r\n        .style(\"font-family\", (d) => d.font)\r\n        .style(\"font-size\", (d) => {\r\n          return `${d.size}px`;\r\n        })\r\n        .style(\"fill\", _fill)\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .attr(\"transform\", (d) => {\r\n          return `translate(${[d.x, d.y]})rotate(${d.rotate})`;\r\n        })\r\n        .text((d) => d.text)\r\n        //.on(\"click\", (d) => this.onWordClick(d));\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}